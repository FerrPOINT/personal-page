# –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞ Personal Page

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞**: 2025-01-15  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (Sprint 1)

---

## üìä –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã ‚úÖ
- ‚úÖ –ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (frontend/backend —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ)
- ‚úÖ TypeScript –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Graceful shutdown
- ‚úÖ Health check endpoint

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã üî¥
1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ rate limiting** - —É—è–∑–≤–∏–º–æ—Å—Ç—å –∫ DDoS/—Å–ø–∞–º—É
2. **–ù–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–ª–æ–∂–Ω–æ –¥–µ–±–∞–∂–∏—Ç—å –≤ production
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤** - –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
4. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ helmet, CORS —Å–ª–∏—à–∫–æ–º –æ—Ç–∫—Ä—ã—Ç
5. **SQL injection —Ä–∏—Å–∫–∏** - —Ö–æ—Ç—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è prepared statements, –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞

### –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è üü°
1. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å trace_id
2. API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (OpenAPI/Swagger)
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–æ–≤
5. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Rate Limiting
**–ü—Ä–æ–±–ª–µ–º–∞**: API endpoint `/api/contact` –Ω–µ –∑–∞—â–∏—â–µ–Ω –æ—Ç —Å–ø–∞–º–∞ –∏ DDoS –∞—Ç–∞–∫.

**–†–∏—Å–∫**: 
- –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—ã—Å—è—á–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Telegram API

**–†–µ—à–µ–Ω–∏–µ**:
```typescript
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å express-rate-limit
import rateLimit from 'express-rate-limit';

const contactLimiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 –º–∏–Ω—É—Ç
  max: 5, // –º–∞–∫—Å–∏–º—É–º 5 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–¥–Ω–æ–≥–æ IP
  message: 'Too many requests from this IP, please try again later.',
  standardHeaders: true,
  legacyHeaders: false,
});

router.post('/', contactLimiter, async (req, res) => {
  // ...
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–π

#### 2. CORS —Å–ª–∏—à–∫–æ–º –æ—Ç–∫—Ä—ã—Ç
**–ü—Ä–æ–±–ª–µ–º–∞**: –í `backend/src/index.ts` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `cors()` –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

**–†–∏—Å–∫**: –õ—é–±–æ–π —Å–∞–π—Ç –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ API.

**–†–µ—à–µ–Ω–∏–µ**:
```typescript
app.use(cors({
  origin: process.env.FRONTEND_URL || 'http://localhost:8888',
  credentials: true,
  methods: ['GET', 'POST'],
  allowedHeaders: ['Content-Type', 'Authorization'],
}));
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–π

#### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Helmet.js
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –∑–∞—â–∏—Ç—ã HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤.

**–†–∏—Å–∫**: XSS, clickjacking, MIME sniffing –∞—Ç–∞–∫–∏.

**–†–µ—à–µ–Ω–∏–µ**:
```typescript
import helmet from 'helmet';
app.use(helmet());
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í—ã—Å–æ–∫–∏–π

#### 4. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: `sanitizeString` —Ç–æ–ª—å–∫–æ –¥–µ–ª–∞–µ—Ç `trim()`, –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç XSS.

**–†–∏—Å–∫**: XSS –∞—Ç–∞–∫–∏ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ**:
```typescript
import DOMPurify from 'isomorphic-dompurify';

export function sanitizeString(input: string): string {
  return DOMPurify.sanitize(input.trim(), { 
    ALLOWED_TAGS: [],
    ALLOWED_ATTR: []
  });
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í—ã—Å–æ–∫–∏–π

#### 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –í –ª–æ–≥–∞—Ö –º–æ–≥—É—Ç –ø–æ–ø–∞–¥–∞—Ç—å email –∞–¥—Ä–µ—Å–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–†–∏—Å–∫**: –ù–∞—Ä—É—à–µ–Ω–∏–µ GDPR/–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ**: –ú–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–≥–∞—Ö:
```typescript
function maskEmail(email: string): string {
  const [local, domain] = email.split('@');
  return `${local.substring(0, 2)}***@${domain}`;
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í—ã—Å–æ–∫–∏–π

---

## üìù –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–æ–±–ª–µ–º—ã

#### 1. –ù–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `console.log/error`, –Ω–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤.

**–í–ª–∏—è–Ω–∏–µ**: 
- –°–ª–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö
- –ù–µ—Ç trace_id –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–µ—Ç —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (INFO, WARN, ERROR)

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Winston –∏–ª–∏ Pino:
```typescript
import winston from 'winston';

const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  transports: [
    new winston.transports.Console(),
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
  ],
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å trace_id
logger.info('Message created', {
  trace_id: req.headers['x-trace-id'],
  message_id: message.id,
  email: maskEmail(message.email),
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í—ã—Å–æ–∫–∏–π

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ correlation ID
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –≤—Å–µ —Å–ª–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ trace_id:
```typescript
app.use((req, res, next) => {
  req.traceId = req.headers['x-trace-id'] || randomUUID();
  res.setHeader('X-Trace-Id', req.traceId);
  next();
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ö—Ä–∏—Ç–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

#### –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞.

**–†–∏—Å–∫**: 
- –ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°–ª–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –∫–æ–¥
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–π

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã:

1. **Unit —Ç–µ—Å—Ç—ã** (Jest/Vitest):
```typescript
// backend/src/services/validation.test.ts
import { validateContactForm } from './validation';

describe('validateContactForm', () => {
  it('should reject empty name', () => {
    const result = validateContactForm({
      name: '',
      email: 'test@example.com',
      message: 'Hello',
    });
    expect(result.valid).toBe(false);
    expect(result.errors).toContain('Name is required');
  });
});
```

2. **Integration —Ç–µ—Å—Ç—ã**:
```typescript
// backend/src/routes/contact.test.ts
import request from 'supertest';
import app from '../index';

describe('POST /api/contact', () => {
  it('should create message', async () => {
    const response = await request(app)
      .post('/api/contact')
      .send({
        name: 'Test User',
        email: 'test@example.com',
        message: 'Test message',
      });
    expect(response.status).toBe(200);
    expect(response.body.success).toBe(true);
  });
});
```

3. **E2E —Ç–µ—Å—Ç—ã** (Playwright/Cypress):
```typescript
// frontend/e2e/contact-form.spec.ts
test('should submit contact form', async ({ page }) => {
  await page.goto('/');
  await page.fill('[name="name"]', 'Test User');
  await page.fill('[name="email"]', 'test@example.com');
  await page.fill('[name="message"]', 'Test message');
  await page.click('button[type="submit"]');
  await expect(page.locator('.success-message')).toBeVisible();
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–π

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –ü—Ä–æ–±–ª–µ–º—ã

#### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ª–æ—è —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–º–µ—à–∞–Ω–∞ —Å —Ä–æ—É—Ç–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä**: –í `routes/contact.ts` –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

**–†–µ—à–µ–Ω–∏–µ**: –í—ã–Ω–µ—Å—Ç–∏ –≤ —Å–µ—Ä–≤–∏—Å:
```typescript
// backend/src/services/contact-service.ts
export class ContactService {
  async createContactMessage(data: ContactFormData): Promise<Message> {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è
    const validation = validateContactForm(data);
    if (!validation.valid) {
      throw new ValidationError(validation.errors);
    }
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    const message = await createMessage(data);
    
    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
    processMessage(message).catch(error => {
      logger.error('Failed to send Telegram message', { 
        message_id: message.id, 
        error 
      });
    });
    
    return message;
  }
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π

#### 2. –¢–∏–ø `any` –≤ –∫–æ–¥–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –í `telegram-worker.ts` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `message: any`.

**–†–∏—Å–∫**: –ü–æ—Ç–µ—Ä—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã:
```typescript
export async function processMessage(message: Message): Promise<void> {
  // ...
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π

#### 3. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ .env
**–ü—Ä–æ–±–ª–µ–º–∞**: `dotenv.config()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–≥—Ä—É–∂–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –≤ `index.ts` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π

---

## ‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### –ü—Ä–æ–±–ª–µ–º—ã

#### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ connection pooling
**–ü—Ä–æ–±–ª–µ–º–∞**: SQLite –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç connection pooling, –Ω–æ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å.

**–†–µ—à–µ–Ω–∏–µ**: 
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WAL mode (—É–∂–µ –µ—Å—Ç—å ‚úÖ)
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã (—É–∂–µ –µ—Å—Ç—å ‚úÖ)
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**–ü—Ä–∏–º–µ—Ä**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ –ë–î –∫–∞–∂–¥—ã–π —Ä–∞–∑.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å in-memory –∫–µ—à:
```typescript
import NodeCache from 'node-cache';

const cache = new NodeCache({ stdTTL: 300 }); // 5 –º–∏–Ω—É—Ç

export function getTelegramChatId(): string | null {
  const cached = cache.get<string>('telegram_chat_id');
  if (cached) return cached;
  
  const value = getBotSetting('telegram_chat_id');
  if (value) cache.set('telegram_chat_id', value);
  return value;
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π

#### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∂–∞—Ç–∏—è –æ—Ç–≤–µ—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: Express –Ω–µ —Å–∂–∏–º–∞–µ—Ç JSON –æ—Ç–≤–µ—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ**:
```typescript
import compression from 'compression';
app.use(compression());
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π

---

## üê≥ DOCKER

### –ü—Ä–æ–±–ª–µ–º—ã

#### 1. –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ Dockerfile
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤.

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è backend**:
```dockerfile
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .dockerignore
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å multi-stage build (—É–∂–µ –µ—Å—Ç—å ‚úÖ)
```

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è frontend**:
```dockerfile
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å distroless –æ–±—Ä–∞–∑ –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
FROM gcr.io/distroless/static:nonroot
COPY --from=builder /usr/share/nginx/html /usr/share/nginx/html
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ healthcheck –≤ docker-compose
**–ü—Ä–æ–±–ª–µ–º–∞**: Docker –Ω–µ –∑–Ω–∞–µ—Ç, –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–æ—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ**:
```yaml
backend:
  healthcheck:
    test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost:9000/health"]
    interval: 30s
    timeout: 10s
    retries: 3
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### –ü—Ä–æ–±–ª–µ–º—ã

#### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç OpenAPI/Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å Swagger:
```typescript
import swaggerJsdoc from 'swagger-jsdoc';
import swaggerUi from 'swagger-ui-express';

const swaggerOptions = {
  definition: {
    openapi: '3.0.0',
    info: {
      title: 'Personal Page API',
      version: '1.0.0',
    },
  },
  apis: ['./src/routes/*.ts'],
};

app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerJsdoc(swaggerOptions)));
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π

#### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω—ã–µ –º–µ—Å—Ç–∞ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π

---

## üîç –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –ü—Ä–æ–±–ª–µ–º—ã

#### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ—Ç—Ä–∏–∫
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å Prometheus –º–µ—Ç—Ä–∏–∫–∏:
```typescript
import promClient from 'prom-client';

const httpRequestDuration = new promClient.Histogram({
  name: 'http_request_duration_seconds',
  help: 'Duration of HTTP requests in seconds',
  labelNames: ['method', 'route', 'status'],
});

app.get('/metrics', async (req, res) => {
  res.set('Content-Type', promClient.register.contentType);
  res.end(await promClient.register.metrics());
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π

#### 2. –ë–∞–∑–æ–≤—ã–π health check
**–ü—Ä–æ–±–ª–µ–º–∞**: Health check —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ë–î, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Telegram.

**–†–µ—à–µ–Ω–∏–µ**: –†–∞—Å—à–∏—Ä–∏—Ç—å health check:
```typescript
app.get('/health', async (req, res) => {
  const checks = {
    database: await testConnection(),
    telegram: await testTelegramConnection(),
  };
  
  const healthy = Object.values(checks).every(v => v);
  
  res.status(healthy ? 200 : 503).json({
    status: healthy ? 'healthy' : 'unhealthy',
    checks,
    timestamp: new Date().toISOString(),
  });
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π

---

## üìã –ü–†–ò–û–†–ò–¢–ò–ó–ò–†–û–í–ê–ù–ù–´–ô –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å rate limiting
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å Helmet.js
4. ‚úÖ –£–ª—É—á—à–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

### –§–∞–∑–∞ 2: –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (2-3 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. ‚úÖ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
3. ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π health check
4. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Docker
3. ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
4. ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

## üìä –ú–ï–¢–†–ò–ö–ò –ö–ê–ß–ï–°–¢–í–ê

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**: 0% ‚ùå
- **Linter –æ—à–∏–±–∫–∏**: 0 ‚úÖ
- **TypeScript strict mode**: ‚úÖ
- **Docker –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: üü° –ß–∞—Å—Ç–∏—á–Ω–æ
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: üü° –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: üü° –ë–∞–∑–æ–≤–∞—è

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**: >80%
- **Security score**: A
- **Performance score**: >90
- **Maintainability**: A

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
1. –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ endpoints
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
3. –î–æ–±–∞–≤–∏—Ç—å Helmet.js
4. –ù–∞–ø–∏—Å–∞—Ç—å —Ö–æ—Ç—è –±—ã –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏
1. –í–Ω–µ–¥—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –î–æ–±–∞–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
4. –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏
1. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD pipeline
4. –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

---

**–°–ª–µ–¥—É—é—â–∏–π –∞—É–¥–∏—Ç**: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–∞–∑—ã 1

