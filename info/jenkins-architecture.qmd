# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Jenkins Pipeline

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

**Jenkins = –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–µ–ø–ª–æ—è**

```{mermaid}
graph TD
    A[Git Push] --> B[Jenkins]
    B --> C[Checkout –∫–æ–¥–∞]
    C --> D[SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä]
    D --> E[–ó–∞–ø—É—Å–∫ deploy.sh]
    E --> F[–°–±–æ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ]
    F --> G[–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤]
    
    style B fill:#e1f5ff
    style E fill:#fff4e6
    style F fill:#d4edda
```

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### Jenkins (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
- –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
- **–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `scripts/deploy.sh`**

### –°–µ—Ä–≤–µ—Ä –¥–µ–ø–ª–æ—è (–ì–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–±–æ—Ç–∞)
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥ —á–µ—Ä–µ–∑ `git pull`
- **–í—ã–ø–æ–ª–Ω—è–µ—Ç `scripts/deploy.sh`**:
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
  - –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
  - –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
  - Health check

---

## üìÅ –§–∞–π–ª—ã

### `Jenkinsfile` (–Ω–∞ Jenkins)
```groovy
stage('Deploy') {
    // –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    ssh ... "bash scripts/deploy.sh"
}
```

### `scripts/deploy.sh` (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
```bash
#!/bin/bash
# –í—Å—è –ª–æ–≥–∏–∫–∞ –¥–µ–ø–ª–æ—è –∑–¥–µ—Å—å:
# - git pull
# - docker compose build
# - docker compose up
# - –º–∏–≥—Ä–∞—Ü–∏–∏
# - health check
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: Jenkins —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç
2. **–ì–∏–±–∫–æ—Å—Ç—å**: –õ–æ–≥–∏–∫—É –¥–µ–ø–ª–æ—è –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ `deploy.sh` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è Jenkinsfile
3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –°–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **Push –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** ‚Üí Jenkins –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
2. **Jenkins –∫–ª–æ–Ω–∏—Ä—É–µ—Ç –∫–æ–¥** ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Jenkinsfile
3. **Jenkins –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É** ‚Üí –ß–µ—Ä–µ–∑ SSH
4. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è**:
   ```bash
   cd /opt/personal-page
   git pull
   bash scripts/deploy.sh  # ‚Üê –í—Å—è –º–∞–≥–∏—è –∑–¥–µ—Å—å!
   ```
5. **–°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è**:
   - –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥
   - –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ

---

## üîß –ì–¥–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è

### –ù–∞ Jenkins:
- `Jenkinsfile` - —Ç–æ–ª—å–∫–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å (—É–¥–∞–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ build)

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–µ–ø–ª–æ—è:
- `/opt/personal-page/` - –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
- `scripts/deploy.sh` - —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
- Docker –æ–±—Ä–∞–∑—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–µ–ø–ª–æ—è

**–ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å Jenkinsfile!**

–ü—Ä–æ—Å—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `scripts/deploy.sh`:
```bash
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —à–∞–≥? –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ deploy.sh
# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫? –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ deploy.sh
# –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏? –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ deploy.sh
```

Jenkinsfile –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º - –æ–Ω —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç.

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å Jenkins –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã, –∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

