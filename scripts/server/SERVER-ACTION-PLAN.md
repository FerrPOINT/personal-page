# üìã –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üéØ –¶–µ–ª—å
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞—â–∏—Ç—É –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏—Å–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)
- [x] –°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- [ ] –ö–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –ö–æ–¥ –∑–∞–ø—É—à–µ–Ω –≤ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### –≠—Ç–∞–ø 2: –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ - –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ/–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –µ—â–µ –Ω–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω:
cd /opt
git clone <repository-url> personal-page
cd personal-page

# –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —É–∂–µ –µ—Å—Ç—å:
cd /opt/personal-page
git pull origin main
```

### –≠—Ç–∞–ø 3: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
# –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç root)
./scripts/server/disk-manager.sh diagnose > /tmp/disk-diagnosis-$(date +%Y%m%d-%H%M%S).txt

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
cat /tmp/disk-diagnosis-*.txt
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:**
- –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
- –°–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –ø–∞–ø–∫–∏
- –†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤
- Docker –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã

### –≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞—â–∏—Ç—ã
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ç—Ä–µ–±—É–µ—Ç root)
sudo ./scripts/server/disk-manager.sh setup
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ logrotate –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤
2. –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ (>30 –¥–Ω–µ–π)
3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –æ—á–∏—Å—Ç–∫–∏ Docker (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
4. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –æ—á–∏—Å—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–∏—Å–∫–∞ (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç)
6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd journal (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
7. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ cron –∑–∞–¥–∞—á

### –≠—Ç–∞–ø 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./scripts/server/disk-manager.sh status
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ cron –∑–∞–¥–∞—á–∏
- –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ logrotate
- –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –≠—Ç–∞–ø 6: –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
# –ï—Å–ª–∏ –¥–∏—Å–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä—É—á–Ω—É—é –æ—á–∏—Å—Ç–∫—É
sudo ./scripts/server/disk-manager.sh cleanup
```

### –≠—Ç–∞–ø 7: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ cron –∑–∞–¥–∞—á
crontab -l | grep -E "disk-monitor|docker-cleanup|tmp-cleanup"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
ls -la /usr/local/bin/*cleanup*.sh /usr/local/bin/disk-monitor.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ logrotate
ls -la /etc/logrotate.d/custom-logs
cat /etc/logrotate.d/custom-logs

# –¢–µ—Å—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–∑–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é)
sudo /usr/local/bin/disk-monitor.sh
cat /var/log/disk-monitor.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ systemd journal
cat /etc/systemd/journald.conf | grep -E "SystemMaxUse|SystemKeepFree|MaxRetentionSec"
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤:

1. ‚úÖ **Cron –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:**
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∏—Å–∫–∞ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
   - –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00
   - –û—á–∏—Å—Ç–∫–∞ Docker –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 3:00

2. ‚úÖ **–°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã:**
   - `/usr/local/bin/disk-monitor.sh`
   - `/usr/local/bin/docker-cleanup.sh`
   - `/usr/local/bin/tmp-cleanup.sh`
   - `/usr/local/bin/cleanup-disk.sh`

3. ‚úÖ **Logrotate –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   - `/etc/logrotate.d/custom-logs` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ 7 –¥–Ω–µ–π

4. ‚úÖ **Systemd journal –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ 500MB
   - –•—Ä–∞–Ω–µ–Ω–∏–µ 7 –¥–Ω–µ–π

5. ‚úÖ **–õ–æ–≥–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è:**
   - `/var/log/disk-monitor.log`
   - `/var/log/docker-cleanup.log`
   - `/var/log/tmp-cleanup.log`

## üîç –°–ø–æ—Å–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã

### 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –ü–æ—Å–ª–µ setup
./scripts/server/disk-manager.sh status
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
cat /var/log/disk-monitor.log
tail -f /var/log/disk-monitor.log
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ cron
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ cron –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
grep CRON /var/log/syslog | tail -20
```

### 4. –¢–µ—Å—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Ä—É—á–Ω—É—é
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä—É—á–Ω—É—é
sudo /usr/local/bin/disk-monitor.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
cat /var/log/disk-monitor.log
```

### 5. –¢–µ—Å—Ç –æ—á–∏—Å—Ç–∫–∏ –≤—Ä—É—á–Ω—É—é
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—á–∏—Å—Ç–∫—É –≤—Ä—É—á–Ω—É—é
sudo /usr/local/bin/cleanup-disk.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ –¥–æ –∏ –ø–æ—Å–ª–µ
df -h /
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –¥–µ–Ω—å
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
ls -la /var/log/tmp-cleanup.log
cat /var/log/tmp-cleanup.log
```

### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—á–∏—Å—Ç–∫–∞ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç
ls -la /var/log/docker-cleanup.log
cat /var/log/docker-cleanup.log
```

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç—ã –Ω–µ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è
```bash
# –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x scripts/server/*.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: Cron –∑–∞–¥–∞—á–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
```bash
# –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cron —Å–µ—Ä–≤–∏—Å
systemctl status cron
sudo systemctl start cron
```

### –ü—Ä–æ–±–ª–µ–º–∞: –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
```bash
# –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ /var/log
ls -la /var/log/disk-monitor.log
sudo touch /var/log/disk-monitor.log
sudo chmod 644 /var/log/disk-monitor.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: Systemd journal –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é
sudo systemctl restart systemd-journald
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h /

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
tail -20 /var/log/disk-monitor.log
```

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./scripts/server/disk-manager.sh status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏ –æ—á–∏—Å—Ç–∫–∏
tail -20 /var/log/*-cleanup.log
```

### –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
./scripts/server/disk-manager.sh diagnose

# –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
sudo ./scripts/server/disk-manager.sh cleanup
```

## üìù –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] –ü—Ä–æ–µ–∫—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω/–æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (`sudo ./scripts/server/disk-manager.sh setup`)
- [ ] –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω (`./scripts/server/disk-manager.sh status`)
- [ ] Cron –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `crontab -l`)
- [ ] –°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `ls -la /usr/local/bin/*.sh`)
- [ ] Logrotate –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `cat /etc/logrotate.d/custom-logs`)
- [ ] Systemd journal –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `cat /etc/systemd/journald.conf`)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –≤—Ä—É—á–Ω—É—é
- [ ] –õ–æ–≥–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

## üéØ –ò—Ç–æ–≥

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ >85%
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ >95%
- –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- –û—á–∏—â–∞—Ç—å Docker –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- –û—á–∏—â–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –µ–∂–µ–¥–Ω–µ–≤–Ω–æ

–î–∏—Å–∫ –±–æ–ª—å—à–µ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–ø–æ–ª–Ω—è—Ç—å—Å—è!

