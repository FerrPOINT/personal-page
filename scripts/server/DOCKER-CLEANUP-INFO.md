# üê≥ –û—á–∏—Å—Ç–∫–∞ Docker - –ß—Ç–æ —É–¥–∞–ª—è–µ—Ç—Å—è

## ‚úÖ –ß—Ç–æ —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ

### –ü—Ä–∏ `setup` (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫):
- ‚úÖ Dangling –æ–±—Ä–∞–∑—ã (–±–µ–∑ —Ç–µ–≥–æ–≤) - **—É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É**
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã - **—É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É**
- ‚úÖ Build cache - **–æ—á–∏—â–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É**
- ‚úÖ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π

### –ü—Ä–∏ `cleanup` (—Ä—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞):
- ‚úÖ Dangling –æ–±—Ä–∞–∑—ã (–±–µ–∑ —Ç–µ–≥–æ–≤) - **—É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É**
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã - **—É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É**
- ‚úÖ Build cache - **–æ—á–∏—â–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É**
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ):
- ‚úÖ Dangling –æ–±—Ä–∞–∑—ã
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volumes
- ‚úÖ Build cache
- ‚úÖ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π

## ‚ùå –ß—Ç–æ –ù–ï —É–¥–∞–ª—è–µ—Ç—Å—è

- ‚ùå –†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
- ‚ùå Volumes —Å –¥–∞–Ω–Ω—ã–º–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ)
- ‚ùå –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∏

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ—á–∏—Å—Ç–∏—Ç Docker —Å—Ä–∞–∑—É)
sudo ./scripts/server/disk-manager.sh setup

# –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
sudo ./scripts/server/disk-manager.sh cleanup

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
sudo /usr/local/bin/docker-cleanup.sh
```

## üìä –ö–æ–º–∞–Ω–¥—ã Docker, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

1. `docker image prune -af` - —É–¥–∞–ª—è–µ—Ç –≤—Å–µ dangling –æ–±—Ä–∞–∑—ã
2. `docker container prune -f` - —É–¥–∞–ª—è–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
3. `docker builder prune -af` - –æ—á–∏—â–∞–µ—Ç build cache
4. `docker system prune -af` - –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
5. `docker volume prune -f` - —É–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volumes (—Ç–æ–ª—å–∫–æ –≤ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–µ)

## ‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∏—Ö –¥–∞–Ω–Ω—ã–µ **–ù–ï —É–¥–∞–ª—è—é—Ç—Å—è**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volumes **–ù–ï —É–¥–∞–ª—è—é—Ç—Å—è**
- –¢–æ–ª—å–∫–æ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã —É–¥–∞–ª—è—é—Ç—Å—è

